# ESP32 DOOM Project - Breadboard Wiring Guide

## Компоненти

### Основни компоненти:
1. **ESP32 Dev Board** - основен микроконтролер
2. **ST7789 TFT Display** (240x320 пиксела) - дисплей
3. **DHT11 Sensor** - сензор за температура и влажност
4. **Breadboard** - за свързване на компонентите
5. **Jumper wires** - за свързване

### Допълнителни компоненти:
- **USB Cable** - за захранване и програмиране на ESP32
- **4.7kΩ Resistor** - за DHT11 сензора (pull-up резистор)

## Схема на свързване

### ST7789 TFT Display свързване:

| ST7789 Pin | ESP32 Pin | Описание |
|------------|-----------|----------|
| VCC        | 3.3V      | Захранване |
| GND        | GND       | Земя |
| SCL        | GPIO 18   | SPI Clock |
| SDA        | GPIO 23   | SPI MOSI |
| RES        | GPIO 4    | Reset |
| DC         | GPIO 2    | Data/Command |
| CS         | GPIO 15   | Chip Select |
| BLK        | 3.3V      | Backlight |

### DHT11 Sensor свързване:

| DHT11 Pin | ESP32 Pin | Описание |
|-----------|-----------|----------|
| VCC       | 3.3V      | Захранване |
| DATA      | GPIO 4    | Data (същият като RES на дисплея!) |
| GND       | GND       | Земя |

**ВАЖНО:** DHT11 DATA пинът използва същия GPIO 4 като RES пинът на дисплея. Това е проблем!

## Коригирана схема

### Препоръчителна схема (с промяна на DHT11 пин):

| DHT11 Pin | ESP32 Pin | Описание |
|-----------|-----------|----------|
| VCC       | 3.3V      | Захранване |
| DATA      | GPIO 5    | Data (променен пин) |
| GND       | GND       | Земя |

### Кодови промени за DHT11:

В `include/dhtSensorScreen.h` променете:
```cpp
#define DHTPIN 5  // вместо 4
```

## Подробни инструкции за монтаж

### Стъпка 1: Подготвяне на breadboard
1. Поставете ESP32 Dev Board в горната част на breadboard
2. Уверете се, че всички пинове са добре вмъкнати

### Стъпка 2: ST7789 Display монтаж
1. Поставете ST7789 display модула в долната част на breadboard
2. Свържете захранването:
   - VCC → 3.3V
   - GND → GND
3. Свържете SPI пиновете:
   - SCL → GPIO 18
   - SDA → GPIO 23
   - RES → GPIO 4
   - DC → GPIO 2
   - CS → GPIO 15
   - BLK → 3.3V

### Стъпка 3: DHT11 Sensor монтаж
1. Поставете DHT11 сензора в отделна секция на breadboard
2. Свържете захранването:
   - VCC → 3.3V
   - GND → GND
3. Свържете data пин:
   - DATA → GPIO 5 (коригиран пин)
4. Добавете 4.7kΩ pull-up резистор между DATA и VCC

### Стъпка 4: Проверка на свързването
1. Проверете всички връзки за правилност
2. Уверете се, че няма къси съединения
3. Проверете ориентацията на компонентите

## Диаграма на breadboard

```
ESP32 Dev Board
┌─────────────────────────────────┐
│ 3.3V  GND  GPIO2  GPIO4  GPIO5 │
│ GPIO15 GPIO18 GPIO23           │
└─────────────────────────────────┘
    │     │     │     │     │
    │     │     │     │     │
    ▼     ▼     ▼     ▼     ▼
┌─────────────────────────────────┐
│ Breadboard Connections          │
│                                 │
│ 3.3V ──┬── ST7789 VCC           │
│        ├── ST7789 BLK           │
│        └── DHT11 VCC            │
│                                 │
│ GND ───┬── ST7789 GND           │
│        └── DHT11 GND            │
│                                 │
│ GPIO2 ───── ST7789 DC           │
│ GPIO4 ───── ST7789 RES          │
│ GPIO5 ───── DHT11 DATA          │
│ GPIO15 ──── ST7789 CS           │
│ GPIO18 ──── ST7789 SCL          │
│ GPIO23 ──── ST7789 SDA          │
└─────────────────────────────────┘
```

## Тестване

### Стъпка 1: Базово тестване
1. Свържете ESP32 към компютъра
2. Качете кода
3. Отворете Serial Monitor (115200 baud)
4. Проверете за съобщения за грешки

### Стъпка 2: Display тестване
1. Дисплейът трябва да покаже DOOM лого
2. След това трябва да се покаже "Booting..."
3. Ако дисплейът не работи, проверете SPI връзките

### Стъпка 3: DHT11 тестване
1. В Serial Monitor трябва да се покажат съобщения за DHT11
2. Ако има грешки, проверете data връзката и pull-up резистора

## Често срещани проблеми

### Display не работи:
- Проверете SPI връзките
- Проверете захранването (3.3V)
- Проверете ориентацията на display модула

### DHT11 не работи:
- Проверете data връзката
- Добавете 4.7kΩ pull-up резистор
- Проверете захранването

### ESP32 не се свързва:
- Проверете USB кабела
- Проверете COM порта
- Рестартирайте Arduino IDE/PlatformIO

## Безопасност

1. **Никога не свързвайте 5V към ESP32 пинове!**
2. **Използвайте само 3.3V за логически нива**
3. **Проверете полярността на компонентите**
4. **Изключете захранването преди промяна на връзките**

## Допълнителни съвети

1. Използвайте цветни проводници за по-лесно проследяване
2. Маркирайте проводниците с етикети
3. Съхранявайте схемата за бъдещи референции
4. Направете снимка на завършената схема 